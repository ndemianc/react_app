import React, { Component, PropTypes } from 'react';
import { ItemTypes } from '../constants/items_types';
import { DragSource } from 'react-dnd';

const rookSource = {
  beginDrag(props) {
    return {};
  }
};

function collect(connect, monitor) {
  return {
    connectDragSource: connect.dragSource(),
    connectDragPreview: connect.dragPreview(),
    isDragging: monitor.isDragging()
  }
}

class Rook extends Component {
  componentDidMount() {
    const img = new Image();
    img.src = 'data:image/png;base64,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';
    img.onload = () => this.props.connectDragPreview(img);
  }

  render() {
    const { connectDragSource, isDragging } = this.props;
    return connectDragSource(
      <div style={{
          opacity: isDragging ? 0.5 : 1,
          fontSize: 25,
          fontWeight: 'bold',
          cursor: 'move'
        }}>
        â™–
      </div>
    );
  }
}

Rook.propTypes = {
  connectDragSource: PropTypes.func.isRequired,
  isDragging: PropTypes.bool.isRequired
};

export default DragSource(ItemTypes.ROOK, rookSource, collect)(Rook);
